<mvc:View
    controllerName="project1.controller.ObjectCreate"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.uxap"
    xmlns:m="sap.m"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core">
    <ObjectPageLayout
        id="ObjectPageLayout"
        showTitleInHeaderContent="true"
        alwaysShowContentHeader="false"
        preserveHeaderStateOnScroll="false"
        headerContentPinnable="true"
        isChildPage="true"
        showFooter="true">
        <headerTitle>
            <ObjectPageDynamicHeaderTitle>
                <expandedHeading>
                    <m:Title text="{i18n>createPageTitle}" wrapping="true" class="sapUiSmallMarginEnd"/>
                </expandedHeading>
                <snappedHeading>
                    <m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Center">
                        <m:Title text="{i18n>createPageTitle}" wrapping="true"/>
                    </m:FlexBox>
                </snappedHeading>
                <navigationActions>
                    <m:OverflowToolbarButton
                        type="Transparent"
                        icon="sap-icon://decline"
                        press="onCloseCreate"
                        tooltip="{i18n>closeButtonTooltip}"/>
                </navigationActions>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>

        <sections>
            <ObjectPageSection title="{i18n>generalInformationSection}">
                <subSections>
                    <ObjectPageSubSection>
                        <form:SimpleForm
                            maxContainerCols="2"
                            editable="false"
                            layout="ResponsiveGridLayout"
                            labelSpanL="12"
                            labelSpanM="12"
                            emptySpanL="0"
                            emptySpanM="0"
                            columnsL="1"
                            columnsM="1">
                            <form:content>
                                <m:Label text="{i18n>fieldId}"/>
                                <m:Text text="{v2>ID}" />
                                
                                <m:Label text="{i18n>fieldName}"/>
                                <m:Input
                                    id="createProductName"
                                    required="true"
                                    core:require="{
                                        ValidateProductV2: 'project1/validate/validateProductV2'
                                    }"
                                    value="{
                                        path: 'v2>Name',
                                        type: 'sap.ui.model.type.String'
                                    }"
                                    change="ValidateProductV2.onValidateName"
                                    valueState="{= ${modelV2>/validate/isValidName} === true ? 'None' : 'Error'}"
                                    valueStateText="{i18n>valueStateRequired}"
                                    width="100%"/>
                                
                                <m:Label text="{i18n>fieldDescription}"/>
                                <m:Input
                                    id="createProductDescription"
                                    required="true"
                                    core:require="{
                                        ValidateProductV2: 'project1/validate/validateProductV2'
                                    }"
                                    value="{
                                        path: 'v2>Description',
                                        type: 'sap.ui.model.type.String'
                                    }"
                                    change="ValidateProductV2.onValidateDescription"
                                    valueState="{= ${modelV2>/validate/isValidDescription} === true ? 'None' : 'Error'}"
                                    valueStateText="{i18n>valueStateRequired}"
                                    width="100%"/>
                                
                                <m:Label text="{i18n>fieldReleaseDate}"/>
                                <m:DatePicker
                                    id="createProductReleaseDate"
                                    required="true"
                                    core:require="{
                                        ValidateProductV2: 'project1/validate/validateProductV2'
                                    }"
                                    value="{
                                        path: 'v2>ReleaseDate',
                                        type: 'sap.ui.model.type.Date',
                                        formatOptions: { pattern: 'yyyy-MM-dd' }
                                    }"
                                    change="ValidateProductV2.onValidateReleaseDate"
                                    valueFormat="yyyy-MM-dd"
                                    displayFormat="yyyy-MM-dd"
                                    valueState="{= ${modelV2>/validate/isValidReleaseDate} === true ? 'None' : 'Error'}"
                                    valueStateText="{i18n>valueStateRequired}"
                                    width="100%"/>
                                
                                <m:Label text="{i18n>fieldPrice}"/>
                                <m:Input
                                    id="createProductPrice"
                                    type="Number"
                                    core:require="{
                                        ValidateProductV2: 'project1/validate/validateProductV2'
                                    }"
                                    value="{
                                        path:'v2>Price',
                                        type:'sap.ui.model.type.Float',
                                        constraints: { minimum: 0 }
                                    }"
                                    change="ValidateProductV2.onValidatePrice"
                                    valueState="{= ${modelV2>/validate/isValidPrice} === true ? 'None' : 'Error'}"
                                    valueStateText="{i18n>valueStateRequired}"
                                    width="100%"/>
                                
                                <m:Label text="{i18n>fieldRating}"/>
                                <m:Input
                                    id="createProductRating"
                                    type="Number"
                                    core:require="{
                                        ValidateProductV2: 'project1/validate/validateProductV2'
                                    }"
                                    value="{
                                        path:'v2>Rating',
                                        type:'sap.ui.model.type.Float',
                                        constraints: { minimum: 0 }
                                    }"
                                    change="ValidateProductV2.onValidateRating"
                                    valueState="{= ${modelV2>/validate/isValidRating} === true ? 'None' : 'Error'}"
                                    valueStateText="{i18n>valueStateRequired}"
                                    width="100%"/>
                            </form:content>
                        </form:SimpleForm>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>

        <footer>
            <m:OverflowToolbar>
                <m:ToolbarSpacer/>
                <m:Button
                    text="{i18n>saveButton}"
                    type="Accept"
                    enabled="{modelV2>/validate/isFormValid}"
                    press="onSave"/>
                <m:Button
                    text="{i18n>resetButton}"
                    type="Reject"
                    press="onReset"/>
            </m:OverflowToolbar>
        </footer>
    </ObjectPageLayout>
</mvc:View>
